<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/export-data.js"></script>
<script src="https://code.highcharts.com/modules/accessibility.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<body>

    <figure class="highcharts-figure">
        <div id="container" style="height: 80vh;"></div>
    </figure>

</body>
<script>
    const bowlingTeam = []
    const runConceded =[]
    $(document).ready(function () {
        $.ajax({
            url: "/ipl/route3/",
            type: "GET",
            dataType: "json",
            success: function (jsonResponse) {
                // Load all the options
                console.log(jsonResponse.datasets)
                jsonResponse.datasets.forEach(element => {
                    bowlingTeam.push(element.bowling_team)
                    runConceded.push(element.run_conceded)
                });
                Highcharts.chart('container', {
        chart: {
            type: 'column'
        },
        title: {
            text: 'Extra runs conceded per team in the year 2016',
            align: 'left'
        },
        xAxis: {
            categories: bowlingTeam,
            // categories: ['2008', '2009', '2010', '2011', '2012', '2013', '2014', '2015', '2016', '2017'],

            crosshair: true,
            accessibility: {
                description: 'Countries'
            },
            title: {
                text: 'Team'
            },
            labels: {
        rotation: 90
    }
        },
        yAxis: {
            min: 0,
            title: {
                text: 'Run conceded'
            }
        },
        tooltip: {
            valueSuffix: ' (Matches)'
        },
        plotOptions: {
            column: {
                pointPadding: 0.2,
                borderWidth: 0
            }
        },
        series: [
            {
                // data: [58, 57, 60, 73, 74, 76, 60, 59, 60, 59],
                data: runConceded,
                name: 'year',
                showInLegend: false

            }
        ]
    });
            },
            error: function (xhr, status, error) {
                console.error("Error fetching options:", error);
            }
        });
    });

  

</script>

</html>